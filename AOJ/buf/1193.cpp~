#include <iostream>
using namespace std;

int main(){
    while(1){
        int h;
        cin >> h;
        if(h == 0) break;

        int data[10][5];
        for(int j=h-1;j>=0;j++){
            for(int k=0;k<5;k++){
                cin >> data[j][k];
            }
        }
        int score=0;
        while(1){
            bool flag=true;
            for(int j=0;j<h;j++){
                int bn = data[j][0];
                count = 1;
                for(int k=1;k<5;k++){
                    if(data[j][k] == bn){
                        count++;
                        switch(count){
                        case 3:
                            score += 3;
                            data[j][k] = data[j][k-1] = data[j][k-2] = 0;
                            flag = false;
                            break;
                        case 4:
                        case 5:
                            score += 1;
                            data[j][k] = 0;
                            flag = false;
                            break;
                        default:
                            break;
                        }
                    }
                }
            }
            if(flag) break;
        }

        cout << score << '\n';
    }
    return 0;
}
